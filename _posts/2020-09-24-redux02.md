---
title: "[íŒ¨ìŠ¤íŠ¸ìº í¼ìŠ¤ ìˆ˜ê°• í›„ê¸°] í”„ë¡ íŠ¸ì—”ë“œ ì¸ê°• 100% í™˜ê¸‰ ì±Œë¦°ì§€ 46íšŒì°¨ ë¯¸ì…˜ - 35ê°• Redux ì‚¬ìš©í•  ì¤€ë¹„, ëª¨ë“ˆ ë§Œë“¤ê¸°"
date: 2020-09-24
categories: fastcampus
tags: fastcampus all-in-one-challenge day46 react redux
---

# Redux ì‚¬ìš©í•  ì¤€ë¹„

ë¨¼ì € ìƒˆë¡œìš´ react í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ê³  ë¦¬ë•ìŠ¤ë¥¼ ì„¤ì¹˜í•´ì¤€ë‹¤.

```
npx create-react-app learn-redux
yarn add redux
```

ê·¸ë¦¬ê³  exercise.js íŒŒì¼ì„ í•˜ë‚˜ ë§Œë“¤ê³  index.jsì— importì‹œì¼œì£¼ê³  ë¦¬ë•ìŠ¤ì— ëŒ€í•´ ì‹¤ìŠµì„ í•´ë³´ë„ë¡ í•˜ì. ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì…ë ¥í•œë‹¤.

> module/exercise.js

```javascript
import { createStore } from "redux";

const initialState = {
  counter: 0,
  text: "",
  list: [],
};

const INCREASE = "INCREASE"; //ì•¡ì…˜íƒ€ì…ì˜ ê²½ìš° ëŒ€ë¬¸ìë¡œ
const DECREASE = "DECREASE";
const CHANGE_TEXT = "CHANGE_TEXT"; //ì•¡ì…˜íƒ€ì…ì˜ ê²½ìš° ì–¸ë”ë°”ë¡œ
const ADD_TO_LIST = "ADD_TO_LIST";

// function increase(){
//     return {
//         type: INCREASE
//     }
// }
//ì•„ë˜ì™€ ê°™ì´ í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì“°ë©´ returnì„ ìƒëµí•´ì¤„ ìˆ˜ ìˆë‹¤.

const increase = () => ({
  //ì•¡ì…˜ìƒì„±í•¨ìˆ˜ë¥¼ ì‘ì„±í• ë•ŒëŠ” ì†Œë¬¸ìë¡œ
  type: INCREASE,
});

const decrease = () => ({
  type: DECREASE,
});

const changeText = (text) => ({
  //ì•¡ì…˜ìƒì„±í•¨ìˆ˜ì˜ ê²½ìš° ì¹´ë©œê¸°ë²•ìœ¼ë¡œ
  type: CHANGE_TEXT,
  text,
});

const addToList = (item) => ({
  type: ADD_TO_LIST,
  item,
});

function reducer(state = initialState, action) {
  //stateì— ê¸°ë³¸ê°’ì„ ë„£ì–´ì¤Œ
  switch (action.type) {
    case INCREASE:
      return {
        ...state,
        counter: state.counter + 1,
      };
    case DECREASE:
      return {
        ...state,
        counter: state.counter - 1,
      };
    case CHANGE_TEXT:
      return {
        ...state,
        text: action.text,
      };
    case ADD_TO_LIST:
      return {
        ...state,
        list: state.list.concat(action.item),
      };
    default:
      //stateê°€ undefinedë¼ë©´ ê¸°ë³¸ê°’ ë°˜í™˜
      return state;
  }
}

const store = createStore(reducer);

console.log(store.getState());

const listener = () => {
  //êµ¬ë…í•˜ëŠ” ê²ƒ.
  const state = store.getState();
  console.log(state);
};
const unsubscribe = store.subscribe(listener);
//ì´ê²Œ ì™œ êµ¬ë…ì„ í•´ì œí•˜ëŠ” ê±°ì§€?? í•˜ ã…‰ã…ˆ..
//unsubscribe(); í•¨ìˆ˜ë¡œ ë§Œë“ ì ë„ ì—†ëŠ”ì• ê°€ ì–´ë–»ê²Œ ìƒê²¨ë‚˜ëŠ” ê±°ì§€?
//ë„ˆë¬´ ì„¤ëª…ì„ ì•ˆí•´ì¤˜

store.dispatch(increase());
store.dispatch(decrease());
store.dispatch(changeText("ì•ˆë…•í•˜ì„¸ìš”"));
store.dispatch(addToList({ id: 1, text: "ì™€ìš°" }));

window.store = store;
window.unsubscribe = unsubscribe;
```

ì´ë ‡ê²Œ í•´ë†“ê³  ì½˜ì†”ì—ë‹¤ê°€ store.dispatch({type: 'INCREASE'})ë¥¼ í˜¸ì¶œí•´ë³´ë©´ ê°’ì´ ì¶”ê°€ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ê·¸ ì™¸ì— ë‚˜ë¨¸ì§€ DECREASE, CHANGE_TEXT, ADD_TO_LISTë„ ë§ˆì°¬ê°€ì§€ë¡œ í…ŒìŠ¤íŠ¸ í•´ë³´ì. í˜¸ì¶œí• ë•Œë§ˆë‹¤ ë””ìŠ¤íŒ¨ì¹˜ ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.  
ê·¸ë¦¬ê³  ì½˜ì†”ì— unsubscribeë¥¼ í˜¸ì¶œí•´ë³´ì. ê·¸ëŸ¬ë©´ ê·¸ ë’¤ë¡œëŠ” ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜ í•´ë„ ë”ì´ìƒ ë³€í™”ê°€ ì½˜ì†”ì— ì°íˆì§€ ì•ŠëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ë‹¤ì‹œ store.getState()ë¥¼ í˜¸ì¶œí•´ë³´ë©´ ì¹´ìš´íŠ¸ëŠ” ì˜¬ë¼ê°€ ìˆëŠ” ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤. unsubscribeí•´ë„ ì½˜ì†”ì—ë§Œ ë°˜ì˜ì´ ì•ˆëœê±°ì§€ countê°’ì€ ì˜¬ë¼ê°€ê³  ìˆì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  
ìš°ë¦¬ê°€ ì•ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ì—ì„œ ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ë ë•ŒëŠ” ì´ subscribeë¼ëŠ” í•¨ìˆ˜ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. getStateë„ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ê¸°ì „ê¹Œì§„ ì“¸ì¼ ì—†ì„ ê²ƒì´ë‹¤. ê·¸ëŒ€ì‹ ì— connect, useSelect, useStore, useDispatchë“± í—¬í¼ í›…ë“¤ì„ ì‚¬ìš©í•´ ë¦¬ì•¡íŠ¸ì™€ ë¦¬ë•ìŠ¤ë¥¼ ì—°ê²°í•˜ê²Œ ëœë‹¤.  
ì´ì œ ë¦¬ì•¡íŠ¸ì™€ ë¦¬ë•ìŠ¤ë¥¼ ì—°ë™í•´ë³´ë„ë¡ í•˜ì.

# Redux ëª¨ë“ˆ ë§Œë“¤ê¸° (Reactì™€ Redux ì—°ê²°í•˜ê¸°)

ë¦¬ë•ìŠ¤ ëª¨ë“ˆì´ë€ 'ì•¡ì…˜íƒ€ì…, ì•¡ì…˜ìƒì„±í•¨ìˆ˜, ë¦¬ë“€ì„œ' ëª¨ë‘ê°€ ë“¤ì–´ìˆëŠ” ê²ƒì„ ëª¨ë“ˆì´ë¼ê³  ë¶€ë¥¸ë‹¤. ì´ ì„¸ê°€ì§€ëŠ” ê°ê° ë‹¤ë¥¸ íŒŒì¼ë¡œ ì €ì¥í• ìˆ˜ë„ ìˆë‹¤. í•˜ì§€ë§Œ í•œ íŒŒì¼ì— ëª°ì•„ì„œ ì‘ì„±í•˜ì. ì´ê²ƒì„ Ducks íŒ¨í„´ì´ë¼ê³  í•œë‹¤. ì—¬ê¸°ì„œ í•œê°€ì§€ íŠ¹ì§•ì€ ReducerëŠ” export defaultë¡œ ë‚´ë³´ë‚´ê³ , Action Creatorì€ export functionìœ¼ë¡œ ë‚´ë³´ë‚¸ë‹¤ëŠ” ê²ƒì´ë‹¤. ì•„ë˜ ì‚¬ì§„ì„ ì°¸ê³ í•˜ì.
[ì°¸ê³ ](/images/200924-1.png)  
ê·¸ë¦¬ê³  Ducks íŒ¨í„´ì„ ë¶ˆëŸ¬ì˜¬ë•Œ import \* as reducers from './ducks/index' ì´ëŸ°ì‹ìœ¼ë¡œ í•œë²ˆì— ë¶ˆëŸ¬ì˜¬ ìˆ˜ë„ ìˆê³ , import { loadList, createList } from './duks/index' ì´ë ‡ê²Œ í•˜ë‚˜ì”© ë¶ˆëŸ¬ì˜¬ ìˆ˜ë„ ìˆë‹¤.

ì ì´ì œ srcì— /moduleí´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ì•ˆì— counter.jsë¥¼ ë§Œë“¤ì–´ë³´ì.

> module/counter.js

```javascript
// ACTION TYPE
const SET_DIFF = "counter/SET_DIFF"; //ducks íŒ¨í„´ìœ¼ë¡œ ì•¡ì…˜íƒ€ì…ì„ ì„ ì–¸í• ë•Œ ì´ë ‡ê²Œ ì ‘ë‘ì‚¬ë¡œ ëª¨ë“ˆì´ë¦„ì„ ë„£ì–´ì£¼ëŠ”ë° ê·¸ì´ìœ ëŠ” ë‹¤ë¥¸ëª¨ë“ˆê³¼ ì´ë¦„ì´ ì¤‘ë³µë˜ì§€ ì•Šê²Œ í•˜ê¸° ìœ„í•¨ì´ë‹¤.
const INCREASE = "counter/INCREASE";
const DECREASE = "counter/DECREASE";

// ACTION CREATOR
export const setDiff = (diff) => ({ type: SET_DIFF, diff });
export const increase = () => ({ type: INCREASE });
export const decrease = () => ({ type: DECREASE });

// ì´ˆê¸°ìƒíƒœ ì„ ì–¸
const initialState = {
  number: 0,
  diff: 1, //ë”í•´ì¤„ ê°’
};

// REDUCER
export default function counter(state = initialState, action) {
  switch (action.type) {
    case SET_DIFF:
      return {
        ...state,
        diff: action.diff,
      };
    case INCREASE:
      return {
        ...state,
        number: state.number + state.diff,
      };
    case DECREASE:
      return {
        ...state,
        number: state.number - state.diff,
      };
    default:
      return state;
  }
}
```

ì´ë²ˆì—” todos.jsë¥¼ í•˜ë‚˜ ë” ë§Œë“ ë‹¤.

> todos.js

```javascript
// ACTION TYPE
const ADD_TODO = "todos/ADD_TODO";
const TOGGLE_TODO = "todos/TOGGLE_TODO";

// ACTION CREATOR
let nextID = 1;
export const addTodo = (text) => ({
  type: ADD_TODO,
  todo: {
    id: nextID++,
    text,
  },
});

export const toggleTodo = (id) => ({
  type: TOGGLE_TODO,
  id,
});

//ì´ˆê¸°í™”
const initialState = {
  /* ì´ë ‡ê²Œ ë°›ì•„ì˜¬ ê²ƒì´ë‹¤
    {
        id:1,
        text:'ì˜ˆì‹œ',
        done: false
    }
    */
};

// REDUCER
export default function todos(state = initialState, action) {
  switch (action.type) {
    case ADD_TODO:
      return state.concat(action.todo);
    case TOGGLE_TODO:
      return state.map((todo) =>
        todo.id === action.id
          ? {
              ...todo,
              done: !todo.done,
            }
          : todo
      );
    default:
      return state;
  }
}
```

ê·¸ë¦¬ê³  ì´ ë‘ê°œì˜ ëª¨ë“ˆì„ ì—°ê²°í•´ì¤„ rootíŒŒì¼ì„ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ë° index.jsë¼ê³  ë§Œë“¤ì–´ë³´ì.

> module/index.js

```javascript
import { combineReducers } from "redux";
import counter from "./counter";
import todos from "./todos";

const rootReducer = combineReducers({
  counter,
  todos,
});

export default rootReducer;

//ë‘ê°œì˜ ëª¨ë“ˆì„ í•˜ë‚˜ì˜ rootReducerë¡œ ë§Œë“¤ì–´ì„œ ë‚´ë³´ë‚´ì¤˜ì•¼í•¨.
//ë¦¬ì•¡íŠ¸ì— ë¦¬ë•ìŠ¤ë¥¼ ë¶™ì´ê¸° ìœ„í•´ì„œëŠ” react-redux íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼í•¨.
```

ì´ì œ ë¦¬ì•¡íŠ¸ì— ë¦¬ë•ìŠ¤ë¥¼ ë¶™ì´ê¸° ìœ„í•´ì„œ react-reduxë¥¼ ì„¤ì¹˜í•œë‹¤.

```
yarn add react-redux
```

ì´ì œ srcì˜ index.jsì— ìš°ë¦¬ê°€ ë§Œë“  ë¦¬ë•ìŠ¤ ëª¨ë“ˆë“¤ì„ ë¶™ì—¬ì¤˜ë³´ì.

> src/index.js

```javascript
import React from "react";
import ReactDOM from "react-dom";
import "./index.css";
import App from "./App";
import * as serviceWorker from "./serviceWorker";
import { Provider } from "react-redux"; //ë¦¬ì•¡íŠ¸ë¦¬ë•ìŠ¤ ë¶™ì—¬ì£¼ê¸°
import { createStore } from "redux"; //ìŠ¤í† ì–´ ë§Œë“¤ê¸°ìœ„í•´ ë¦¬ë•ìŠ¤ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°
import rootReducer from "./module"; //ìš°ë¦¬ê°€ ë§Œë“  ëª¨ë“ˆ ë­ì—¬ì£¼ê¸°

const store = createStore(rootReducer); //storeë¥¼ ìƒì„±í•´ì¤€ë‹¤.
console.log(store.getState()); //ì½˜ì†”ì— ìš°ë¦¬ê°€ ë§Œë“  ì¹´ìš´íŠ¸ë‘ íˆ¬ë‘ìŠ¤ ëª¨ì–‘ì´ ìˆëŠ”ì§€ í™•ì¸í•´ë³¸ë‹¤.

ReactDOM.render(
  <React.StrictMode>
    <Provider //Providerë¡œ Appì„ ê°ì‹¸ì£¼ê³  ê·¸ ì•ˆì— ìš°ë¦¬ê°€ ë§Œë“  storeë¥¼ ë„£ì–´ì£¼ë©´ ì™„ì„±ì´ë‹¤!
      store={store}
    >
      <App />
    </Provider>
  </React.StrictMode>,
  document.getElementById("root")
);

// If you want your app to work offline and load faster, you can change
// unregister() to register() below. Note this comes with some pitfalls.
// Learn more about service workers: https://bit.ly/CRA-PWA
serviceWorker.unregister();
```

[ë¦¬ì•¡íŠ¸](/images/200924-2.png)  
ì•„ ì§„ì§œ êµ³ì´ ë¶™ì´ëŠ” ë°©ë²•ë„ ì´ë ‡ê²Œ ê·€ì°®ì€ë° ë¦¬ë•ìŠ¤ë¥¼ ì¨ì•¼ë˜ë‚˜ ì‹¶ì–´ì§„ë‹¤ ã…‹ã…‹ã…‹ã…‹ã…‹....
ì´ë²ˆ íšŒì‚¬ì—ì„œ ì§„í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ ì–´ë–¤ê±¸ë¡œ ì“¸ì§€ ê³ ë¯¼ì¤‘ì¸ë° ã…œã…œ í”„ë¡œì íŠ¸ í¬ê¸°ê°€ ì–´ë–¨ì§€ ëª¨ë¥´ê² ë‹¤.  
ë” ì»¤ì§ˆìˆ˜ë„ ìˆê³  ì•„ë‹ìˆ˜ë„ ìˆì–´ì„œ ë¦¬ë•ìŠ¤ë¥¼ ì“¸ì§€ë§ì§€ íŒë‹¨ì„ ëª»ë‚´ë¦¬ëŠ” ì¤‘.  
ì•„ë¬´ë˜ë„ ë¯¸ë“¤ì›¨ì–´ê¹Œì§€ ë°°ìš°ê³  ê²°ì •í•´ì•¼í• ë“¯.. ì¶”ì„ê¹Œì§€ëŠ” ë‹¤ ëë‚´ê³  íŒë‹¨í•  ìˆ˜ ìˆê²Œ í•´ë†”ì•¼ì§€.  
ì—­ì‹œë‚˜ ìì„¸í•˜ê³  ì •í™•í•œ ë‚´ìš©ì€ [ë²¨ë¡œí¼íŠ¸ì˜ ìœ„í‚¤](https://react.vlpt.us/redux/)ë¥¼ ì°¸ê³ í•˜ë„ë¡ í•˜ì.
ì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€..
ì‹œì²­ ì˜ìƒ 35ê°• 01~03ê¹Œì§€

![ìˆ˜ê°•ì¸ì¦ì´ë¯¸ì§€](/images/200924-3.jpeg)
í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì˜¬ì¸ì› íŒ¨í‚¤ì§€ with React Online. ğŸ‘‰ https://bit.ly/31Cf1hp
