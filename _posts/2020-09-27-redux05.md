---
title: "[íŒ¨ìŠ¤íŠ¸ìº í¼ìŠ¤ ìˆ˜ê°• í›„ê¸°] í”„ë¡ íŠ¸ì—”ë“œ ì¸ê°• 100% í™˜ê¸‰ ì±Œë¦°ì§€ 49íšŒì°¨ ë¯¸ì…˜ - 35ê°• Redux í• ì¼ ëª©ë¡ êµ¬í˜„ ìµœì í™”"
date: 2020-09-27
categories: fastcampus
tags: fastcampus all-in-one-challenge day49 react redux
---

# í• ì¼ ëª©ë¡ êµ¬í˜„ ìµœì í™”

ì¼ë‹¨ ì–´ì œ ì˜¤ë¥˜ê°€ ë‚œ ë¶€ë¶„ì— ëŒ€í•´ì„  í•´ê²°í•˜ì§€ ëª»í–ˆë‹¤.  
ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤ê³  í•˜ëŠ”ë° ë‚˜ì˜ ë¶ˆë§Œì‚¬í•­ì€ ë‘ê°€ì§€ë‹¤.  
![ì˜¤ë¥˜í™”ë©´](/images/200927-1.png)

1. React devtoolsê°€ ë¡œì»¬ì—ì„  êµ¬ë™í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒ (íŒŒì¼URLì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ í—ˆìš©ì„ í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³ )
2. todos.map is not a functionì´ë€ ì˜¤ë¥˜ê°€ ë–´ëŠ”ë° ëˆ„êµ¬ì—ê²Œë„ ë„ì›€ì„ êµ¬í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒ.

ì„ ìƒë‹˜í•œí…Œ 1:1ë¡œ ë¬¼ì–´ë³¼ ìˆ˜ë„ ì—†ê³ , ë²¨ë¡œí¼íŠ¸ ìœ„í‚¤ì™€ ì‚¬ì´íŠ¸ì— ë“¤ì–´ê°€ë³´ë©´ ëˆ„ì ë˜ì–´ìˆëŠ” ì§ˆë¬¸ê¸€ì´ ìˆ˜ë‘ë£©í•˜ë‹¤. íŒ¨ìº ì€ ì´ëŸ° ì‚¬ëŒë“¤ì˜ ì§ˆë¬¸ì„ í•´ì†Œí•  ìˆ˜ ìˆëŠ” ì»¤ë®¤ë‹ˆí‹°ë¥¼ ë§Œë“¤ì–´ì¤˜ì•¼ ë˜ëŠ”ê±° ì•„ë‹Œê°€? ì»¤ë®¤ë‹ˆí‹°ì— ì„ ìƒë‹˜ì´ ë“¤ì–´ì™€ìˆì§€ ì•Šë‹¤ê³  í•˜ë”ë¼ë„ ì ì–´ë„ ìˆ˜ê°•ìƒë“¤ë¼ë¦¬ëŠ” ì„œë¡œ ì§ˆë¬¸ì„ ê³µìœ í•˜ë©´ì„œ í•´ê²° ëª»í•œ ë¶€ë¶„ì— ëŒ€í•´ ê°™ì´ ê³ ë¯¼í•´ë³¼ ìˆ˜ ìˆëŠ” ì¥ì´ë¼ë„ ë§Œë“¤ì–´ì¤˜ì•¼ í•˜ì§€ ì•Šë‚˜ ì‹¶ë‹¤. (ì‹¬ì§€ì–´ ë²¨ë¡œí¼íŠ¸ ìœ„í‚¤ì— ìˆëŠ” ì½”ë“œë¥¼ ë˜‘ê°™ì´ ë³µì‚¬í•´ë‹¤ ë¶™ì—¬ ë„£ì—ˆëŠ”ë°ë„ ê°™ì€ ì˜¤ë¥˜í™”ë©´ì´ ëœ¬ë‹¤.) ë‹¹ìµœ ì´ ì˜¤ë¥˜ê°€ í•´ê²°ì´ ì•ˆë˜ë‹ˆ ë‹¤ìŒì§„ë„ì¡°ì°¨ ë‚˜ê°ˆ ìˆ˜ ì—†ë‹¤. ì´ë ‡ê²Œ ì‹œê°„ì„ ë³´ë‚´ëŠ”ê²Œ ë„ˆë¬´ë‚˜ ì•„ê¹Œìš¸ ë¿ì´ë‹¤. ì•„ë¬´íŠ¼ ì¼ì •ì€ ë§ˆì³ì•¼ í•˜ê¸°ì— ì‹¤ìŠµí•œ í™”ë©´ì€ ë¹„ë¡ ì—ëŸ¬í™”ë©´ ê·¸ëŒ€ë¡œì§€ë§Œ ì½”ë“œë¼ë„ ë”°ë¼í•´ë³¸ë‹¤.

ìµœì í™”ë¥¼ ìœ„í•´ React.memoë¥¼ ì‚¬ìš©í•´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³´ë„ë¡ í•˜ì.

> Todos.js

```javascript
import React, { useState } from "react";

const TodoItem = React.memo(function TodoItem({ todo, onToggle }) {
  return (
    <li
      style={{
        textDecoration: todo.done ? "line-throtgh" : "none",
      }}
      onClick={() => onToggle(todo.id)}
    >
      {todo.text}
    </li>
  );
});

const TodoList = React.memo(function TodoList({ todos, onToggle }) {
  return (
    <ul>
      {todos.map((todo) => (
        <TodoItem key={todo.id} todo={todo} onToggle={onToggle} />
      ))}
    </ul>
  );
});

function Todos({ todos, onCreate, onToggle }) {
  const [text, setText] = useState(""); //ëª¨ë“  ìƒíƒœë¥¼ ë¦¬ë•ìŠ¤ì—ì„œ ê´€ë¦¬í•  í•„ìš”ëŠ” ì—†ìŒ
  const onChange = (e) => setText(e.target.value);
  const onSubmit = (e) => {
    e.preventDefault();
    onCreate(text); //ìƒˆë¡œìš´ë°ì´í„° ë“±ë¡
    setText(""); //í…ìŠ¤íŠ¸ê°’ ì´ˆê¸°í™”
  };

  return (
    <div>
      <form onSubmit={onSubmit}>
        <input
          value={text}
          onChange={onChange}
          placeholder="í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”.."
        />
        <button type="submit">ë“±ë¡</button>
      </form>
      <TodoList todos={todos} onToggle={onToggle} />
    </div>
  );
}

export default React.memo(Todos);
```

# useSelector ìµœì í™”

ë§ˆì°¬ê°€ì§€ë¡œ ì—¬ê¸°ë„ ì ìš©í™”ë©´ì´ ë‚˜íƒ€ë‚˜ì§„ ì•Šì§€ë§Œ ì½”ë“œë¼ë„ ë”°ë¼í•´ë³¸ë‹¤(...)  
ìš°ë¦¬ê°€ ì•±ì„ ì‹¤í–‰ì‹œí‚¨ ë’¤ todoì— í• ì¼ì„ ì¼°ë‹¤ ê»ë‹¤ í•˜ë©´ ì´ìƒí•˜ê²Œë„ ê´€ê³„ë„ ì—†ëŠ” Counterê°€ ê°™ì´ ì‘ë™ë˜ëŠ” ê²ƒì„ ë¦¬ë•ìŠ¤ ê°œë°œì íˆ´ë¡œ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. ì´ê²ƒì„ í•´ê²°í•˜ëŠ” ë‘ê°€ì§€ ë°©ë²•ì´ ìˆëŠ”ë° ë¨¼ì € ì²«ë²ˆì§¸ ë°©ë²•.

> CounterContainer.js

```javascript
function CounterContainer() {
  // const { number, diff } = useSelector((state) => ({
  //   number: state.counter.number,
  //   diff: state.counter.diff,
  // }));
  const number = useSelector((state) => state.counter.number);
  const diff = useSelector((state) => state.counter.diff);
//ìœ—ë¶€ë¶„ ë„¤ì¤„ì„ ì£¼ì„ì²˜ë¦¬í•˜ê³  ì•„ë˜ ë‘ì¤„ì„ ì¶”ê°€í•´ë³´ì.

(...ì´í•˜ìƒëµ)
}
```

ê·¸ë¦¬ê³  ë‘ë²ˆì§¸ ë°©ë²•.

```javascript
function CounterContainer() {
  const { number, diff } = useSelector(
    (state) => ({
      number: state.counter.number,
      diff: state.counter.diff,
    }),
    (left, right) => {
      return left.diff === right.diff && left.number === right.number;
    }
  );
```

ì´ê²Œ ë„ˆë¬´ ë³µì¡í•˜ë©´ shallowEqualì„ ì¨ë„ ëœëŒ„ë‹¤.

```javascript
import { useSelector, useDispatch, shallowEqual } from "react-redux"; //shallowEqualì„í´íŠ¸ í•´ì£¼ëŠ” ê²ƒì„ ìŠì§€ë§ì.

function CounterContainer() {
  const { number, diff } = useSelector(
    (state) => ({
      number: state.counter.number,
      diff: state.counter.diff,
    }),
    shallowEqual
  );
```

ì´ë ‡ê²Œ í•˜ê³  ë‚˜ë©´ ìµœì í™”ê°€ ì˜ ë˜ì—ˆì„ê²ƒì´ë‹¤.. (ë¬¼ë¡  ë‚˜ëŠ” ë³¼ìˆ˜ì—†ì§€ë§Œ ã…œ)  
ê·¼ë° ì´ shallowEqualì´ë¼ëŠ” ê²ƒì´ ê¹Šê²Œ ë¹„êµí•˜ëŠ” ê±´ ì•„ë‹ˆê³  ì–•ê²Œ ë¹„êµí•˜ëŠ”ê²ƒì´ë¼ê³  í•œë‹¤. ì•„ì§ì€ ë¬´ìŠ¨ë§ì¸ì§€ ëª¨ë¥´ê² êµ¬ ë‚˜ì¤‘ì— í•„ìš”í•˜ë©´ ì•„ë˜ ë¸”ë¡œê·¸ë¥¼ ì°¸ê³ í•´ì„œ ë” ì°¾ì•„ë³´ë„ë¡ í•˜ì.
[ë²¨ë¡œí¼íŠ¸ì˜ ìœ„í‚¤](https://react.vlpt.us/redux/08-optimize-useSelector.html)ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ë¼ë©°..  
ì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€..  
ì‹œì²­ ì˜ìƒ 35ê°• 10~11ê¹Œì§€

![ìˆ˜ê°•ì¸ì¦ì´ë¯¸ì§€](/images/200927-2.png)
![ìˆ˜ê°•ì¸ì¦ì´ë¯¸ì§€](/images/200927-3.jpeg)
í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì˜¬ì¸ì› íŒ¨í‚¤ì§€ with React Online. ğŸ‘‰ https://bit.ly/31Cf1hp
