---
title: "[íŒ¨ìŠ¤íŠ¸ìº í¼ìŠ¤ ìˆ˜ê°• í›„ê¸°] í”„ë¡ íŠ¸ì—”ë“œ ì¸ê°• 100% í™˜ê¸‰ ì±Œë¦°ì§€ 44íšŒì°¨ ë¯¸ì…˜ - 32ê°• TodoListë§Œë“¤ê¸° 2"
date: 2020-09-22
categories: fastcampus
tags: fastcampus all-in-one-challenge day44 react TodoList
---

ì´ë²ˆì—ëŠ” TodoListì— ê¸°ëŠ¥ì„ ë¶™ì—¬ë³´ë„ë¡ í•˜ì.
ë¨¼ì € Appì•ˆì— ê¸°ëŠ¥ì„ ë‹¤ ë§Œë“¤ì–´ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ TodoContectë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ ê¸°ëŠ¥ì„ ê´€ë¦¬í•˜ê²Œ í•´ì¤„ê²ƒì´ë‹¤.

![ë¦¬ì•¡íŠ¸](/images/200922-1.png)

ì—­ì‹œë‚˜ ìì„¸í•˜ê³  ì •í™•í•œ ì½”ë“œëŠ” [ë²¨ë¡œí¼íŠ¸ì˜ ìœ„í‚¤](https://react.vlpt.us/mashup-todolist/)ë¥¼ ì°¸ê³ í•˜ë„ë¡ í•˜ì. ë¨¼ì € ìƒíƒœë¥¼ ê´€ë¦¬í•  TodoContextë¥¼ ë§Œë“¤ì.

> TodoContext.js

```javascript
import React, { createContext, useReducer, useContext, useRef } from "react";

const initialTodos = [
  {
    id: 1,
    text: "í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°",
    done: true,
  },
  {
    id: 2,
    text: "í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°",
    done: false,
  },
  {
    id: 3,
    text: "í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°",
    done: true,
  },
  {
    id: 4,
    text: "í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°",
    done: true,
  },
];
// CREATE, TOGGLE, REMOVE
function todoReducer(state, action) {
  switch (action.type) {
    case "CREATE":
      return state.concat(action.todo);
    case "TOGGLE":
      return state.map((todo) =>
        todo.id === action.id ? { ...todo, done: !todo.done } : todo
      );
    case "REMOVE":
      return state.filter((todo) => todo.id !== action.id);
    default:
      throw new Error(`Unhandled action type: ${action.type}`);
  }
}
const TodoStateContext = createContext();
const TodoDispatchContext = createContext();
const TodoNextIdContext = createContext();

export function TodoProvider({ children }) {
  const [state, dispatch] = useReducer(todoReducer, initialTodos);
  const nextId = useRef(5);
  return (
    <TodoStateContext.Provider value={state}>
      <TodoDispatchContext.Provider value={dispatch}>
        <TodoNextIdContext.Provider value={nextId}>
          {children}
        </TodoNextIdContext.Provider>
      </TodoDispatchContext.Provider>
    </TodoStateContext.Provider>
  );
}

export function useTodoState() {
  const context = useContext(TodoStateContext);
  if (!context) {
    throw new Error("Cannot find TodoProvider");
  }
  return context;
}
export function useTodoDispatch() {
  const context = useContext(TodoDispatchContext);
  if (!context) {
    throw new Error("Cannot find TodoProvider");
  }
  return context;
}
export function useNextId() {
  const context = useContext(TodoNextIdContext);
  if (!context) {
    throw new Error("Cannot find TodoProvider");
  }
  return context;
}
```

ê° ì»´í¬ë„ŒíŠ¸ì— ìƒíƒœê´€ë¦¬ ë° ê¸°ëŠ¥ì„ ë¶™ì—¬ë³´ì.

> TodoList.js

```javascript
import React from "react";
import styled from "styled-components";
import TodoItem from "./TodoItem";
import { useTodoState } from "./TodoContext";

const TodoListBlock = styled.div`
  flex: 1;
  padding: 20px 32px;
  padding-bottom: 48px;
  overflow-y: auto;
`;

function TodoList() {
  const todos = useTodoState();
  return (
    <TodoListBlock>
      {todos.map((todo) => (
        <TodoItem
          key={todo.id}
          id={todo.id}
          text={todo.text}
          done={todo.done}
        />
      ))}
    </TodoListBlock>
  );
}

export default TodoList;
```

> TodoItem.js

```javascript
import React from "react";
import styled, { css } from "styled-components";
import { MdDone, MdDelete } from "react-icons/md";
import { useTodoDispatch } from "./TodoContext";

const Remove = styled.div`
  opacity: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #dee2e6;
  font-size: 24px;
  cursor: pointer;
  &:hover {
    color: #ff6b6b;
  }
`;
const CheckCircle = styled.div`
  width: 32px;
  height: 32px;
  border-radius: 16px;
  border: 1px solid #ced4da;
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 20px;
  cursor: pointer;
  /* ë‚˜ì¤‘ì— CheckCircleì—ê²Œ doneê°’ì„ ë˜ì ¸ì¤„ê±´ë° ê·¸ë•Œ trueë©´ ì´ê²ƒì„ ë³´ì—¬ì¤˜ë¼ */
  ${(props) =>
    props.done &&
    css`
      border: 1px solid #38d9a9;
      color: #38d9a9;
    `}
`;
const Text = styled.div`
  flex: 1;
  font-size: 21px;
  color: #495057;
  ${(props) =>
    props.done &&
    css`
      color: #ced4da;
    `}
`;
const TodoItemBlock = styled.div`
  display: flex;
  align-items: center;
  padding-top: 12px;
  padding-bottom: 12px;
  &:hover {
    ${Remove} {
      /* TodoItemBlockì— hoverì‹œ Removeë¥¼ ë³´ì´ë„ë¡ */
      opacity: 1;
    }
  }
`;

function TodoItem({ id, done, text }) {
  const dispatch = useTodoDispatch();
  const onToggle = () =>
    dispatch({
      type: "TOGGLE",
      id,
    });
  const onRemove = () =>
    dispatch({
      type: "REMOVE",
      id,
    });
  return (
    <TodoItemBlock>
      <CheckCircle done={done} onClick={onToggle}>
        {done && <MdDone />}
      </CheckCircle>
      <Text done={done}>{text}</Text>
      <Remove onClick={onRemove}>
        <MdDelete />
      </Remove>
    </TodoItemBlock>
  );
}

export default React.memo(TodoItem);
```

> TodoHead.js

```javascript
import React from "react";
import styled from "styled-components";
import { useTodoState } from "./TodoContext";

const TodoHeadBlock = styled.div`
  padding-top: 48px;
  padding-left: 32px;
  padding-right: 32px;
  padding-bottom: 24px;
  h1 {
    margin: 0;
    font-size: 36px;
    color: #343a40;
  }
  .day {
    margin-top: 4px;
    color: #868e96;
    font-size: 21px;
  }
  .tasks-left {
    color: #20c997;
    font-size: 18px;
    margin-top: 40px;
    font-weight: bold;
  }
`;

function TodoHead() {
  const todos = useTodoState();
  const undoneTasks = todos.filter((todo) => !todo.done);
  const today = new Date();
  const date = today.toLocaleDateString("ko-KR", {
    year: "numeric",
    month: "long",
    day: "numeric",
  });
  const dayName = today.toLocaleDateString("ko-KR", {
    weekday: "long",
  });
  return (
    <TodoHeadBlock>
      <h1>{date}</h1>
      <div className="day">{dayName}</div>
      <div className="tasks-left">í• ì¼ {undoneTasks.length}ê°œ ë‚¨ìŒ</div>
    </TodoHeadBlock>
  );
}

export default TodoHead;
```

> TodoCreate.js

```javascript
import React, { useState } from "react";
import styled, { css } from "styled-components";
import { MdAdd } from "react-icons/md";
import { useNextId, useTodoDispatch } from "./TodoContext";

const CircleButton = styled.button`
  background: #38d9a9;
  &:hover {
    background: #63e6be;
  }
  &:active {
    background: #20c997;
  }
  z-index: 5;
  cursor: pointer;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;

  position: absolute;
  left: 50%;
  bottom: 0px;
  transform: translate(-50%, 50%); /* ìì‹ ì˜ ë„ˆë¹„ì˜ ë°˜ë§Œí¼ */

  font-size: 60px;
  color: white;
  border-radius: 40px;

  border: none;
  outline: none;
  transition: 0.2s all;

  ${(props) =>
    props.open &&
    css`
      background: #ff6b6b;
      &:hover {
        background: #ff8787;
      }
      &:active {
        background: #ff6b6b;
      }
      transform: translate(-50%, 50%) rotate(45deg);
    `}
`;

const InsertFormPositioner = styled.div`
  width: 100%;
  bottom: 0;
  left: 0;
  position: absolute;
`;

const InserForm = styled.form`
  background: #f8f9fa;
  padding: 32px;
  padding-bottom: 72px;
  border-radius: 0 0 16px 16px;
  border-top: 1px solid #e9ecef;
`;

const Input = styled.input`
  padding: 12px;
  border-radius: 4px;
  border: 1px solid #dee2e6;
  width: 100%;
  outline: none;
  font-size: 18px;
  box-sizing: border-box;
`;

function TodoCreate() {
  const [open, setOpen] = useState(false);
  const [value, setValue] = useState("");
  const dispatch = useTodoDispatch();
  const nextId = useNextId();
  const onToggle = () => setOpen(!open);
  const onChange = (e) => setValue(e.target.value);
  const onSubmit = (e) => {
    e.preventDefault();
    dispatch({
      type: "CREATE",
      todo: {
        id: nextId.current,
        text: value,
        done: false,
      },
    });
    setValue("");
    setOpen(false);
    nextId.current += 1;
  };

  return (
    <>
      {open && (
        <InsertFormPositioner>
          <InserForm onSubmit={onSubmit}>
            <Input
              placeholder="í• ì¼ì„ ì…ë ¥ í›„ ì—”í„°ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”."
              autoFocus
              onChange={onChange}
              value={value}
            />
          </InserForm>
        </InsertFormPositioner>
      )}
      <CircleButton onClick={onToggle} open={open}>
        <MdAdd />
      </CircleButton>
    </>
  );
}

export default React.memo(TodoCreate);
```

ì´ì œ ê¸°ëŠ¥ì„ ëª¨ë‘ ë¶™ì˜€ë‹¤. ì˜ ë˜ë‚˜ í™•ì¸í•´ë³´ì.
![ë¦¬ì•¡íŠ¸í™”ë©´](/images/200922-2.gif)  
ì˜ëœë‹¤. ì‹ ê¸°í• ì •ë„ë¡œ ì˜ëœë‹¤. ì™œëƒë©´ ë‚´ê°€ ì´í•´ë¥¼ ëª»í–ˆê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë˜ë„ ì—ëŸ¬ ì—†ì´ ì˜ë˜ì„œ ë‹¤í–‰ì´ë‹¤. ì´ TodoListë§Œë“œëŠ”ê±°ëŠ” ëª‡ë²ˆ ë” ëŒë¦¬ë©´ì„œ ë³µìŠµí•´ë´ì•¼ê² ë‹¤. ì´ê²ƒë§Œ ììœ ìì¬ë¡œ í•´ë„ ë¦¬ì•¡íŠ¸ë¡œ ì›¬ë§Œí•œ í”„ë¡ íŠ¸ì•¤ë“œ ê°œë°œì€ ë‹¤ í•  ìˆ˜ ìˆì„ê²ƒê°™ì€ (ê·¼ê±°ì—†ëŠ”) ìì‹ ê°ì´ ë“ ë‹¤.....!

ì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€..  
ì‹œì²­ ì˜ìƒ 32ê°• 04~05ê¹Œì§€

![ìˆ˜ê°•ì¸ì¦ì´ë¯¸ì§€](/images/200922-3.jpeg)
í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì˜¬ì¸ì› íŒ¨í‚¤ì§€ with React Online. ğŸ‘‰ https://bit.ly/31Cf1hp
