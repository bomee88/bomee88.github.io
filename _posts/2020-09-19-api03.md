---
title: "[íŒ¨ìŠ¤íŠ¸ìº í¼ìŠ¤ ìˆ˜ê°• í›„ê¸°] í”„ë¡ íŠ¸ì—”ë“œ ì¸ê°• 100% í™˜ê¸‰ ì±Œë¦°ì§€ 41íšŒì°¨ ë¯¸ì…˜ - 33ê°• react-async, Contextì—ì„œ ë¹„ë™ê¸°ì‘ì—… ìƒíƒœê´€ë¦¬"
date: 2020-09-19
categories: fastcampus
tags: fastcampus all-in-one-challenge day41 react styled-components
---

# react-async

ì´ì „ì— ì¼ë˜ ì½”ë“œë¥¼ useReducerë¡œ ë‹¤ì‹œ ë§Œë“¤ì–´ë³´ì. ì²˜ìŒì—ëŠ” ì½”ë“œê°€ ì¢€ ê¸¸ì–´ì§€ëŠ” ê²ƒ ê°™ê¸°ë„ í• ê²ƒì´ë‹¤. ì¼ë‹¨ useStateë¡œ ì¼ë˜ ì½”ë“œë¥¼ ì§€ìš°ì.

# API ì—°ë™ì˜ ê¸°ë³¸

ë¨¼ì € ìƒˆë¡œìš´ ë¦¬ì•¡íŠ¸ ì•±ì„ ë§Œë“¤ê³  ë””ë ‰í† ë¦¬ë¡œ ë“¤ì–´ê°€ì„œ axiosë¥¼ ì„¤ì¹˜í•´ì¤€ë‹¤.

```
npx create-react-app api-integrate
cd api-integrate
yarn add axios
```

axiosëŠ” [REST API](http://bit.ly/learn-restapi)ë¥¼ ìš”ì²­í•˜ê²Œ ë ë•Œ, ì´ë¥¼ propmiseê¸°ë°˜ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¼ê³  í•œë‹¤.
í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ì†Œí†µí•˜ëŠ” ë°©ì‹ì´ë‹¤. HTTP ë©”ì„œë“œë¥¼ í†µí•´ì„œ êµ¬ë¶„ì„ í•œë‹¤.
![GET POST DELETE PUT](/images/200917-1.png)
![GET POST DELETE PUT](/images/200917-2.png)

ìš°ë¦¬ê°€ ì•„ê¹Œ axiosë¥¼ ë‹¤ìš´ë°›ì•˜ëŠ”ë° ì´ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```javascript
import axios from "axios";
axios.get("/users/1"); //ì¡°íšŒí• ë•Œ
axios.post("/users", {
  username: "yuyuyu",
  name: "bobobo",
});
```

ì´ì œ APIë¥¼ í†µí•´ ì—°ë™ì„ í•´ë´ì•¼í•  ê²ƒì¸ë° JSONPlaceholderë¼ëŠ” ì—°ìŠµìš© APIë¥¼ í†µí•´ì„œ ì—°ë™í•´ ë³¼ ê²ƒì´ë‹¤.

## useStateì™€ useEffectë¡œ ë°ì´í„° ë¡œë”©í•˜ê¸°

ìš°ë¦¬ê°€ í•´ ë³¼ ê²ƒì€ ì•„ë˜ì™€ ê°™ë‹¤.

1. ìš”ì²­ì˜ ê²°ê³¼
2. ë¡œë”© ìƒíƒœ
3. ì—ëŸ¬  
   í•œë²ˆ êµ¬í˜„ì„ ì‹œì‘í•´ë³´ì.

> src/User.js

```javascript
import React, { useEffect, useState } from "react";
import axios from "axios";

function Users() {
  const [users, setUsers] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchUsers = async () => {
      try {
        setUsers(null);
        setError(null);
        setLoading(true);
        const response = await axios.get(
          "https://jsonplaceholder.typicode.com/users/"
        );
        setUsers(response.data);
      } catch (e) {
        console.log(e.response.status); //ì—ëŸ¬ì½”ë“œë¥¼ ì½˜ì†”ì— ì¶œë ¥í•˜ê³  ì‹¶ìœ¼ë©´.
        setError(e);
      }
      setLoading(false);
    };
    fetchUsers();
  }, []);
  if (loading) return <div>ë¡œë”©ì¤‘..</div>;
  if (error) return <div>ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. </div>;
  if (!users) return null;
  return (
    <ul>
      {users.map((user) => (
        <li key={user.id}>
          {user.username} ({user.name})
        </li>
      ))}
    </ul>
  );
}

export default Users;
```

> src/App.js

```javascript
import React from "react";
import Users from "./Users";

function App() {
  return (
    <div>
      <Users />
    </div>
  );
}

export default App;
```

ì´ë ‡ê²Œ ì½”ë“œë¥¼ êµ¬í˜„í•´ì£¼ê³  ë‚˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì˜ êµ¬ë™ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.  
![ë¦¬ì•¡íŠ¸í™”ë©´](/images/200917-3.png)  
APIë¥¼ ì—°ë™í•˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ë°©ë²•ì´ë‹¤. ë‹¤ìŒì—ëŠ” useReducerë¥¼ ì‚¬ìš©í•´ì„œ í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¼ ê²ƒì´ë‹¤.

ì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€..  
ì‹œì²­ ì˜ìƒ 33ê°• 03~04ê¹Œì§€

![ìˆ˜ê°•ì¸ì¦ì´ë¯¸ì§€](/images/200919-1.jpeg)
í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì˜¬ì¸ì› íŒ¨í‚¤ì§€ with React Online. ğŸ‘‰ https://bit.ly/31Cf1hp
