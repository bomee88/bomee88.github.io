---
title: "[íŒ¨ìŠ¤íŠ¸ìº í¼ìŠ¤ ìˆ˜ê°• í›„ê¸°] í”„ë¡ íŠ¸ì—”ë“œ ì¸ê°• 100% í™˜ê¸‰ ì±Œë¦°ì§€ 38íšŒì°¨ ë¯¸ì…˜ - 31ê°• API ì†Œê°œ, API ì—°ë™ì˜ ê¸°ë³¸"
date: 2020-09-17
categories: fastcampus
tags: fastcampus all-in-one-challenge day39 react styled-components
---

# API ì—°ë™ì´ë€?

ë°ì´í„°ë¥¼ ë¸Œë¼ìš°ì €ì—ì„œ ë‹¤ë¥¸ì‚¬ëŒë“¤ë„ ë³¼ ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ë ¤ë©´ APIì„œë²„ë¥¼ ë§Œë“¤ê³  ì´ë¥¼ ì—°ë™í•´ì„œ ë°ì´í„°ë¥¼ ì½ê³  ì¨ì•¼í•œë‹¤. ë³´í†µ ë¦¬ë•ìŠ¤ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€, ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ë¡œ í•¨ê»˜ êµ¬í˜„í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ê·¸ë ‡ì§€ë§Œ ë¦¬ë•ìŠ¤ê°€ í•„ìˆ˜ëŠ” ì•„ë‹ˆê¸°ë•Œë¬¸ì— ì¼ë‹¨ ê·¸ëƒ¥ ì»´í¬ë„ŒíŠ¸ì—ì„œ APIì—°ë™í• ë•Œ ì–´ë–»ê²Œ í•˜ëŠ”ì§€ ì•Œì•„ë³´ê³ , ì¢€ ë” ê¹”ë”í•œ ì½”ë“œë¡œ ë‹¤ì‹œ ì‘ì—…í•´ë³´ëŠ”ê±¸ë¡œ ì§„í–‰ í•˜ë ¤ê³  í•œë‹¤.  
APIì—°ë™ì„ í•˜ë ¤ë©´ Promise, async/awaitì— ëŒ€í•´ì„œ ì˜ ì•Œì•„ì•¼ í•œë‹¤. ì—­ì‹œë‚˜ ê¹Œë¨¹ì—ˆìœ¼ë‹ˆ ë‹¤ì‹œ í•œë²ˆ ë³µìŠµí• ê²¸ í™•ì¸í•˜ê³  ë„˜ì–´ê°€ì.

asyncëŠ” ë¹„ë™ê¸°ì  ì²˜ë¦¬(asycronous)ì´ë‹¤. ë¹„ë™ê¸°ì  ì²˜ë¦¬ëŠ” íë¦„ì´ ë©ˆì¶”ì§€ ì•Šë„ë¡ ë³µì¡í•œ ì¼ì„ ì²˜ë¦¬í•˜ê³  ìˆë‹¤ë©´ ê·¸ ì‹œê°„ë™ì•ˆ ë‹¤ë¥¸ì¼ì„ ì²˜ë¦¬í•˜ë„ë¡ í•´ì£¼ëŠ” ê²ƒì´ì—ˆë‹¤. ê·¸ë˜ì„œ setTimeoutì„ ì‚¬ìš©í•œ ì˜ˆì œê°€ ìˆì—ˆë“œë¬ë‹¤. ì´ëŸ° ë¹„ë™ê¸°ì  ì²˜ë¦¬ë¥¼ ë” í¸í•˜ê²Œ í•´ì£¼ëŠ” ê²ƒì´ Promiseì˜€ê³  ì™€ ìƒì„¸í•œ ì„¤ëª…ì€ [ì—¬ê¸°](https://ko.javascript.info/promise-basics)ë¥¼ ì°¸ê³ í•˜ì. ì§± ì¢‹ë‹¤.

# API ì—°ë™ì˜ ê¸°ë³¸

ë¨¼ì € ìƒˆë¡œìš´ ë¦¬ì•¡íŠ¸ ì•±ì„ ë§Œë“¤ê³  ë””ë ‰í† ë¦¬ë¡œ ë“¤ì–´ê°€ì„œ axiosë¥¼ ì„¤ì¹˜í•´ì¤€ë‹¤.

```
npx create-react-app api-integrate
cd api-integrate
yarn add axios
```

axiosëŠ” [REST API](http://bit.ly/learn-restapi)ë¥¼ ìš”ì²­í•˜ê²Œ ë ë•Œ, ì´ë¥¼ propmiseê¸°ë°˜ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¼ê³  í•œë‹¤.
í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ì†Œí†µí•˜ëŠ” ë°©ì‹ì´ë‹¤. HTTP ë©”ì„œë“œë¥¼ í†µí•´ì„œ êµ¬ë¶„ì„ í•œë‹¤.
![GET POST DELETE PUT](/images/200917-1.png)
![GET POST DELETE PUT](/images/200917-2.png)

ìš°ë¦¬ê°€ ì•„ê¹Œ axiosë¥¼ ë‹¤ìš´ë°›ì•˜ëŠ”ë° ì´ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```javascript
import axios from "axios";
axios.get("/users/1"); //ì¡°íšŒí• ë•Œ
axios.post("/users", {
  username: "yuyuyu",
  name: "bobobo",
});
```

ì´ì œ APIë¥¼ í†µí•´ ì—°ë™ì„ í•´ë´ì•¼í•  ê²ƒì¸ë° JSONPlaceholderë¼ëŠ” ì—°ìŠµìš© APIë¥¼ í†µí•´ì„œ ì—°ë™í•´ ë³¼ ê²ƒì´ë‹¤.

## useStateì™€ useEffectë¡œ ë°ì´í„° ë¡œë”©í•˜ê¸°

ìš°ë¦¬ê°€ í•´ ë³¼ ê²ƒì€ ì•„ë˜ì™€ ê°™ë‹¤.

1. ìš”ì²­ì˜ ê²°ê³¼
2. ë¡œë”© ìƒíƒœ
3. ì—ëŸ¬  
   í•œë²ˆ êµ¬í˜„ì„ ì‹œì‘í•´ë³´ì.

> src/User.js

```javascript
import React, { useEffect, useState } from "react";
import axios from "axios";

function Users() {
  const [users, setUsers] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchUsers = async () => {
      try {
        setUsers(null);
        setError(null);
        setLoading(true);
        const response = await axios.get(
          "https://jsonplaceholder.typicode.com/users/"
        );
        setUsers(response.data);
      } catch (e) {
        console.log(e.response.status); //ì—ëŸ¬ì½”ë“œë¥¼ ì½˜ì†”ì— ì¶œë ¥í•˜ê³  ì‹¶ìœ¼ë©´.
        setError(e);
      }
      setLoading(false);
    };
    fetchUsers();
  }, []);
  if (loading) return <div>ë¡œë”©ì¤‘..</div>;
  if (error) return <div>ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. </div>;
  if (!users) return null;
  return (
    <ul>
      {users.map((user) => (
        <li key={user.id}>
          {user.username} ({user.name})
        </li>
      ))}
    </ul>
  );
}

export default Users;
```

> src/App.js

```javascript
import React from "react";
import Users from "./Users";

function App() {
  return (
    <div>
      <Users />
    </div>
  );
}

export default App;
```

ì´ë ‡ê²Œ ì½”ë“œë¥¼ êµ¬í˜„í•´ì£¼ê³  ë‚˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì˜ êµ¬ë™ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.  
![ë¦¬ì•¡íŠ¸í™”ë©´](/images/200917-3.png)  
APIë¥¼ ì—°ë™í•˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ë°©ë²•ì´ë‹¤. ë‹¤ìŒì—ëŠ” useReducerë¥¼ ì‚¬ìš©í•´ì„œ í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¼ ê²ƒì´ë‹¤.

ì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€..  
ì‹œì²­ ì˜ìƒ 33ê°• 01~02ê¹Œì§€

![ìˆ˜ê°•ì¸ì¦ì´ë¯¸ì§€](/images/200917-4.jpeg)
í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì˜¬ì¸ì› íŒ¨í‚¤ì§€ with React Online. ğŸ‘‰ https://bit.ly/31Cf1hp
